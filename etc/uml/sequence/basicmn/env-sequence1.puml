@startuml Sample Sequence

actor "사용자" as user
participant "Controller" as controller
participant "Service" as service
participant "DAO" as dao
database "DB" as db

' 전체 환경코드 구조조회
user -> controller : 전체 환경코드 구조조회 API
activate controller
controller -> service : Hashmap(useCode, tabCode)
activate service
service -> dao: Hashmap(useCode, tabCode)
activate dao
dao -> db: Hashmap(useCode, tabCode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 환경코드 구조조회
user -> controller : 탭별 환경코드 구조조회 API
activate controller
controller -> service : Hashmap(useCode, tabCode)
activate service
service -> dao: Hashmap(useCode, tabCode)
activate dao
dao -> db: Hashmap(useCode, tabCode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 DEFAULT_ENV_JSON 제작 API
user -> controller : 탭별 DEFAULT_ENV_JSON 제작 API
activate controller
controller -> service : Hashmap(useCode, tabCode)
activate service
service -> dao: Hashmap(useCode, tabCode)
activate dao
dao -> db: Hashmap(useCode, tabCode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 환경코드 기본값 조회 - FC본사
user -> controller : 탭별 환경코드 기본값 조회 - FC본사
activate controller
controller -> service : Hashmap(tabCode)
activate service
service -> dao: Hashmap(tabCode)
activate dao
dao -> db: Hashmap(tabCode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 환경코드 기본값 조회 - 매장
user -> controller : 탭별 환경코드 기본값 조회 - 매장
activate controller
controller -> service : Hashmap(tabCode)
activate service
service -> dao: Hashmap(tabCode)
activate dao
dao -> db: Hashmap(tabCode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller


' 탭별 환경코드 조회 - FC본사
user -> controller : 탭별 환경코드 조회 - FC본사
activate controller
controller -> service : Hashmap(tabCode, fchqCode)
activate service
service -> dao: Hashmap(tabCode, fchqCode)
activate dao
dao -> db: Hashmap(tabCode, fchqCode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 환경코드 조회 - 매장
user -> controller : 탭별 환경코드 조회 - 매장
activate controller
controller -> service : Hashmap(tabCode, fchqCode, storeUnqcode)
activate service
service -> dao: Hashmap(tabCode, fchqCode, storeUnqcode)
activate dao
dao -> db: Hashmap(tabCode, fchqCode, storeUnqcode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 환경코드 수정 - FC본사
user -> controller : 탭별 환경코드 수정 - FC본사
activate controller
controller -> service : Hashmap(tabCode, fchqCode, grpCodes)
activate service
service -> dao: Hashmap(tabCode, fchqCode, grpCodes)
activate dao
dao -> db: Hashmap(tabCode, fchqCode, grpCodes)
activate db
dao <-- db: int
deactivate db
service <-- dao: int
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 탭별 환경코드 수정 - 매장
user -> controller : 탭별 환경코드 수정 - 매장
activate controller
controller -> service : Hashmap(tabCode, storeUnqcode, \nposNo, grpCodes)
activate service
service -> dao: Hashmap(tabCode, storeUnqcode, \nposNo, grpCodes)
activate dao
dao -> db: Hashmap(tabCode, storeUnqcode, \nposNo, grpCodes)
activate db
dao <-- db: int
deactivate db
service <-- dao: int
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 본사목록 조회
user -> controller : 본사목록 조회
activate controller
controller -> service : Hashmap(fchqCode, fchqNm, corpNo, useCode, \nsttCode, recordSize, pageNo)
activate service
service -> dao: Hashmap(fchqCode, fchqNm, corpNo, useCode, \nsttCode, recordSize, pageNo)
activate dao
dao -> db: Hashmap(fchqCode, fchqNm, corpNo, useCode, \nsttCode, recordSize, pageNo)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 매장목록 조회
user -> controller : 매장목록 조회
activate controller
controller -> service : Hashmap(fchqCode, fchqNm, storeCode, \nstoreNm, useCode, \nsttCode, recordSize, pageNo)
activate service
service -> dao: Hashmap(fchqCode, fchqNm, storeCode, \nstoreNm, useCode, \nsttCode, recordSize, pageNo)
activate dao
dao -> db: Hashmap(fchqCode, fchqNm, storeCode, \nstoreNm, useCode, \nsttCode, recordSize, pageNo)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 포스목록 조회
user -> controller : 포스목록 조회
activate controller
controller -> service : Hashmap(storeUnqcode)
activate service
service -> dao: Hashmap(storeUnqcode)
activate dao
dao -> db: Hashmap(storeUnqcode)
activate db
dao <-- db: List
deactivate db
service <-- dao: List
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 포스 복사
user -> controller : 포스목록 조회
activate controller
controller -> service : Hashmap(tabCode, storeUnqcode, fromPosNo, \ntoPosNo)
activate service
service -> dao: Hashmap(tabCode, storeUnqcode, fromPosNo, \ntoPosNo)
activate dao
dao -> db: Hashmap(tabCode, storeUnqcode, fromPosNo, \ntoPosNo)
activate db
dao <-- db: int
deactivate db
service <-- dao: int
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller

' 포스 삭제
user -> controller : 포스 삭제
activate controller
controller -> service : Hashmap(storeUnqcode, posNo)
activate service
service -> dao: Hashmap(storeUnqcode, posNo)
activate dao
dao -> db: Hashmap(storeUnqcode, posNo)
activate db
dao <-- db: int
deactivate db
service <-- dao: int
deactivate dao
controller <-- service: ResObj
deactivate service
user <-- controller: JSONObject
deactivate controller


@enduml